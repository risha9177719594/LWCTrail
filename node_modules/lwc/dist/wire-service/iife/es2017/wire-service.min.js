var WireService=function(e){"use strict";class t{constructor(e){this.type="ValueChangedEvent",this.value=e}}Symbol("x").toString();const{freeze:n,defineProperty:i,isExtensible:r}=Object;const{forEach:c,splice:s,indexOf:o}=Array.prototype;function a(e,t){const n=o.call(e,t);n>-1&&s.call(e,n,1)}class l{constructor(e){this.connecting=[],this.disconnecting=[],this.configuring=[],this.isFirstUpdate=!0,this.callback=e,this.wiredElementHost=e.$$DeprecatedWiredElementHostKey$$,this.eventTarget={addEventListener:(e,t)=>{switch(e){case"connect":this.connecting.push(t);break;case"disconnect":this.disconnecting.push(t);break;case"config":this.configuring.push(t),void 0!==this.currentConfig&&t.call(void 0,this.currentConfig);break;default:throw new Error(`Invalid event type ${e}.`)}},removeEventListener:(e,t)=>{switch(e){case"connect":a(this.connecting,t);break;case"disconnect":a(this.disconnecting,t);break;case"config":a(this.configuring,t);break;default:throw new Error(`Invalid event type ${e}.`)}},dispatchEvent:e=>{if(!(e instanceof t)){if("wirecontextevent"===e.type)return this.wiredElementHost.dispatchEvent(e);throw new Error(`Invalid event type ${e.type}.`)}{const t=e.value;this.callback(t)}return!1}}}update(e){(!this.isFirstUpdate||(this.isFirstUpdate=!1,function(e){return 0===Object.keys(e).length}(e)||function(e){return Object.keys(e).some(t=>!(void 0===e[t]))}(e)))&&(this.currentConfig=e,c.call(this.configuring,t=>{t.call(void 0,e)}))}connect(){c.call(this.connecting,e=>e.call(void 0))}disconnect(){c.call(this.disconnecting,e=>e.call(void 0))}}return e.ValueChangedEvent=t,e.WireAdapter=l,e.register=function(e,t){if(null==e||!r(e))throw new TypeError("adapter id must be extensible");if("function"!=typeof t)throw new TypeError("adapter factory must be a callable");if("adapter"in e)throw new TypeError("adapter id is already associated to an adapter factory");const c=class extends l{constructor(e){super(e),t(this.eventTarget)}};n(c),n(c.prototype),i(e,"adapter",{writable:!1,configurable:!1,value:c})},e.registerWireService=function(){},e}({});
